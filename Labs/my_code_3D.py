import matplotlibimport numpy as npimport randommatplotlib.use("TkAgg")import matplotlib.pyplot as pltimport matplotlib.animation as animationfrom mpl_toolkits.mplot3d.art3d import Poly3DCollection# ===============================#   ВЕРШИНИ ПІРАМІДИ (однорідні координати)# ===============================pyramid_vertices = np.array([    [0, 1, 0, 1],    # верхівка    [-1, -1, 1, 1],  # основа    [1, -1, 1, 1],    [0, -1, -1, 1]], dtype=float)pyramid_faces = [    [0, 1, 2],  # грань 1    [0, 2, 3],  # грань 2    [0, 3, 1],  # грань 3    [1, 2, 3]   # основа]# ===============================#   СЦЕНА# ===============================fig = plt.figure(figsize=(6, 6))ax3d = fig.add_subplot(111, projection="3d")ax3d.set_xlim(-5, 5)ax3d.set_ylim(-5, 5)ax3d.set_zlim(-5, 5)ax3d.set_box_aspect([1, 1, 1])pyramid_poly = Nonecurrent_color = random.choice(["red", "green", "blue", "orange", "purple", "cyan"])# початкова позиціяtx, ty, tz = 0, 0, 0# ===============================#   АНІМАЦІЯ# ===============================def animate(i):    global pyramid_poly, tx, ty, tz, current_color    if pyramid_poly is not None:        pyramid_poly.remove()    # Пульсація масштабу    scale = 1 + 0.4 * np.sin(i * 0.1)    # Плавна прозорість    alpha = (np.sin(i * 0.05) + 1) / 2  # від 0 до 1    # коли прозорість близька до нуля → телепортуємось    if alpha < 0.05:        tx, ty, tz = random.uniform(-3, 3), random.uniform(-3, 3), random.uniform(-3, 3)        current_color = random.choice(["red", "green", "blue", "orange", "purple", "cyan"])    S = np.array([        [scale, 0,     0,     0],        [0,     scale, 0,     0],        [0,     0,     scale, 0],        [0,     0,     0,     1]    ], dtype=float)    T = np.array([        [1, 0, 0, tx],        [0, 1, 0, ty],        [0, 0, 1, tz],        [0, 0, 0, 1]    ], dtype=float)    # Комбінована матриця перетворень    M = T @ S   # масштабування + зсув    transformed = pyramid_vertices @ M.T    transformed_vertices = transformed[:, :3]    verts = [[transformed_vertices[j] for j in face] for face in pyramid_faces]    pyramid_poly = Poly3DCollection(verts, alpha=alpha, facecolor=current_color, edgecolor="black")    ax3d.add_collection3d(pyramid_poly)    return []ani = animation.FuncAnimation(fig, animate, frames=1000, interval=50, blit=False)plt.show()